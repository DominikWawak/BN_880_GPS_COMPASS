<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="$DFqe/S%}Nki1E9rAEoB">addr</variable><variable id="/?aYiH~)ZKgGKzo7BB%3">dataReg</variable><variable id="8{9Vd6]tPaGGATj;D!Y]">heading</variable><variable id="USJqJ.HnjR`Lsgq@s[tM">y</variable><variable id="!XjPEB28%8+7=Vkw^c{e">x</variable><variable id="7+WxX.76y=)p`5*3$Bz~">latlong2</variable><variable id="ld(5*z}]p_5N0U5*7YEJ">values2</variable><variable id="buApX:^]vH4i=A|@XfIc">latitude</variable><variable id="bTcR1(7t,Y/7kp96lIHk">dir1</variable><variable id="o_5k6W`U~wXV|~I/p/%.">longitude</variable><variable id="yJLmv|?%)!:y*bAwU^U2">dir2</variable><variable id="KxuAYZ!ItZ%7bqD5vqEV">latdeg</variable><variable id="Wg3GZslf6sAI)5y)%tgc">latmin</variable><variable id="R4c4m9]#Wp-(,b:4~aa^">londeg</variable><variable id="r^pMPA./6/D[=c3B15HS">lonmin</variable><variable id="wjr*92G`L??}~YBIu=y.">latlong</variable><variable id="?0Lnzf+@wrCY2U{S$H;B">regB</variable><variable id="aWPRqA*)m=bIib6QD0Aw">modeReg</variable><variable id="F%:f|d~x`t|]2li?:%tt">lat</variable><variable id="~+UFHH%%@C8#lJ,Cu2/+">lon</variable></variables><block type="function_definition" id="4]7M/nn(K3?5[x5P8Th," x="1058" y="-769"><mutation name="getGPSLL" functionid="Ls2d`KHw[cb{iic?VZ1`"></mutation><field name="function_name">getGPSLL</field><statement name="STACK"><block type="variables_set" id="RJZZ6K#Q/K!gt`,Ym,f*"><field name="VAR" id="7+WxX.76y=)p`5*3$Bz~">latlong2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="serial_read_line" id="o}{nLsU[yngSF+^S/c)k"></block></value><next><block type="controls_if" id="m0k)Ch1#*`/Bq-E8m5j!"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="VM6}lC+W_5XJ;W],0w{H"><field name="VAR" id="7+WxX.76y=)p`5*3$Bz~">latlong2</field></block></value><statement name="DO0"><block type="variables_set" id="UK-yq3uXJQn+CpNltkPl"><field name="VAR" id="ld(5*z}]p_5N0U5*7YEJ">values2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_split" id=":Vrv,*t(%@,ozgU$W7i5"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="omZE;55om.0q|m8I+i8s"><field name="VAR" id="7+WxX.76y=)p`5*3$Bz~">latlong2</field></block></value><value name="separator"><shadow type="text" id="zUW~;qKD)^@aRbdfo95c"><field name="TEXT">,</field></shadow></value></block></value><next><block type="controls_if" id="=MbrI;Knisz#}SFUdJ8="><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="1_[(86Tot}yDQ1W,6TV%"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Mxz[2O(Ic`:$P%I@i#y5"><value name="LIST"><block type="variables_get" id="[|O.AMR{b7i9`/=!SA4v"><field name="VAR" id="ld(5*z}]p_5N0U5*7YEJ">values2</field></block></value><value name="INDEX"><shadow type="math_number" id="(+s5:@Q6^skZ)*Xo}|F^"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="AW/Mq1%BBomB{_ZbV$y`"><field name="TEXT">$GNGLL</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="a{q`_z5oQo5q_srn#xpG"><field name="VAR" id="buApX:^]vH4i=A|@XfIc">latitude</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_parsefloat" id="/h}tJRC@M[*)#LX0I80r"><value name="text"><block type="lists_index_get" id="ssFbj@tR5)3Qzd|+?0Aq"><value name="LIST"><block type="variables_get" id="hrCRFpfFOITJ5|UC5l|S"><field name="VAR" id="ld(5*z}]p_5N0U5*7YEJ">values2</field></block></value><value name="INDEX"><shadow type="math_number" id="Yx!DpqeLza]AD7NV[(?r"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id="{]}-2,x4~EPki4xtqSGt"><field name="VAR" id="bTcR1(7t,Y/7kp96lIHk">dir1</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="%xOm-c[g^)1Bd$Kn({sk"><value name="LIST"><block type="variables_get" id="6*hH{zxiriKPXFZ@izx2"><field name="VAR" id="ld(5*z}]p_5N0U5*7YEJ">values2</field></block></value><value name="INDEX"><shadow type="math_number" id="6=.$szOkr!DPLnkNlCo:"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="Yfw9,U}iCg;9(!v|s8/i"><field name="VAR" id="o_5k6W`U~wXV|~I/p/%.">longitude</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_parsefloat" id=")rZ*zA=6Ah*h5T.31}yn"><value name="text"><block type="lists_index_get" id="`4[GRmLHEmu_7dg8qzld"><value name="LIST"><block type="variables_get" id="-,ru~$ksbmY-9njU[0ox"><field name="VAR" id="ld(5*z}]p_5N0U5*7YEJ">values2</field></block></value><value name="INDEX"><shadow type="math_number" id="ev=RYLjgV4oK/GWr5dco"><field name="NUM">3</field></shadow></value></block></value></block></value><next><block type="variables_set" id="/wZ@gn5{$g~Zy,g)TI@t"><field name="VAR" id="yJLmv|?%)!:y*bAwU^U2">dir2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Z-AJvRA.-kePu}Ji$(zv"><value name="LIST"><block type="variables_get" id="Gx}8,H+id;wN:]DB/KEK"><field name="VAR" id="ld(5*z}]p_5N0U5*7YEJ">values2</field></block></value><value name="INDEX"><shadow type="math_number" id="[4#%s7[,$[0*!fK0|5AA"><field name="NUM">4</field></shadow></value></block></value><next><block type="controls_if" id="s|xnZWrD.Gs,%_.=8?z["><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="=Rs=WvNl/g*_Q36pt%63"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="37=+;OL+6oZe0/^Hy!0~"><field name="VAR" id="bTcR1(7t,Y/7kp96lIHk">dir1</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="n|Tq9^h0}j5nbptMap!E"><field name="TEXT">S</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="GYx4FpVf1F-$a9o{9$::"><field name="VAR" id="buApX:^]vH4i=A|@XfIc">latitude</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="hwdnA$S*RyEU`V`Xh5rn"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="60`D[51x=4;!$KZl1d:A"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="V_f^BBL%rRx[U#/?aiZS"><field name="VAR" id="buApX:^]vH4i=A|@XfIc">latitude</field></block></value></block></value></block></statement><next><block type="controls_if" id="y}]h6gdvy,!qUYa~QKw|"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="4,4vMc|{23.A+aQy1{4l"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Iek,/2u)~RbjZ`jBGy`u"><field name="VAR" id="yJLmv|?%)!:y*bAwU^U2">dir2</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="?/xHKSZG4f?j3;n!%afe"><field name="TEXT">W</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="{Vha3Z1Mb!5ZE$2tEn~x"><field name="VAR" id="o_5k6W`U~wXV|~I/p/%.">longitude</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="EFVs$5~gFhPO_Aj.mx2L"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="-q/9=cY;F`SkP`QrcSN|"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="mZ:?nJ,sE0afqK+]MrsV"><field name="VAR" id="o_5k6W`U~wXV|~I/p/%.">longitude</field></block></value></block></value></block></statement><next><block type="variables_set" id="|d6vH8W%ar8CSwJFjup6"><field name="VAR" id="KxuAYZ!ItZ%7bqD5vqEV">latdeg</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="+blAS5yKmatm|_Tt}ss4"><field name="OP">floor</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="0I{eXBqUB-JL2i~^;v]O"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="R)AJ})2BBLC~uATc_]=k"><field name="VAR" id="buApX:^]vH4i=A|@XfIc">latitude</field></block></value><value name="B"><shadow type="math_number" id="IuB[MY%qR#@hfs6grd]^"><field name="NUM">100</field></shadow></value></block></value></block></value><next><block type="variables_set" id="Sery9IU$p~Zx-I-$m[`{"><field name="VAR" id="Wg3GZslf6sAI)5y)%tgc">latmin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]xEaK;qz*h%Vx3TJ}+}]"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_modulo" id="Y|;%3JbNr[-62|H~R?df"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="j:?]Rw`M+S~AveOyU)0h"><field name="VAR" id="buApX:^]vH4i=A|@XfIc">latitude</field></block></value><value name="DIVISOR"><shadow type="math_number" id="*t(VB)pp[a%1.4M^i0(."><field name="NUM">100</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="b??!qrUM@Y%EBkk)OQ@m"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="d3w_%W4JVNSy[UqELOrt"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="{xSP=R2)*u#p)DZ3(V5F"><field name="VAR" id="buApX:^]vH4i=A|@XfIc">latitude</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="vu2IrALd_qJdaNx-t5Mf"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=")YXQuo]X~?^j~v`E%6B@"><field name="VAR" id="KxuAYZ!ItZ%7bqD5vqEV">latdeg</field></block></value><value name="B"><shadow type="math_number" id="j4G(_%hCKoD(])Xoh+*2"><field name="NUM">100</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number" id="NkqB%(S+vla#l[m2Y7S@"><field name="NUM">0.6</field></shadow></value></block></value></block></value><next><block type="variables_set" id="vGH,*{w~8(_g$Q7^/~bU"><field name="VAR" id="R4c4m9]#Wp-(,b:4~aa^">londeg</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="MwcluN)!76|x5-C:EE+f"><field name="OP">floor</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Z/!b:qsK=rfR,CX|,SM`"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="?qZP9_(R~;f{,`i1m+Y7"><field name="VAR" id="o_5k6W`U~wXV|~I/p/%.">longitude</field></block></value><value name="B"><shadow type="math_number" id=".l2gI!BnfG*:xd!l8;`U"><field name="NUM">100</field></shadow></value></block></value></block></value><next><block type="variables_set" id="JC+atplvVly[=S4cfU:p"><field name="VAR" id="r^pMPA./6/D[=c3B15HS">lonmin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="BiHD8)(C5aXAW-W:[)M$"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_modulo" id="}@gjY.qNlZOdIQmb,#O{"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="C[q61;mc^nNI=j+Y)2@9"><field name="VAR" id="o_5k6W`U~wXV|~I/p/%.">longitude</field></block></value><value name="DIVISOR"><shadow type="math_number" id="?q*=7IYrVW:1^7jf(Sl}"><field name="NUM">100</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="dQZUbng,zfEy5+0[{Is2"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="4s_z?l+u;hV=70g(a,7("><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="FCB%sFvx*8G~.d0(x@SH"><field name="VAR" id="o_5k6W`U~wXV|~I/p/%.">longitude</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="M0OopxM2OwYK-F{mRyxe"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="_k5N=*??AoD1H%f@TS?E"><field name="VAR" id="R4c4m9]#Wp-(,b:4~aa^">londeg</field></block></value><value name="B"><shadow type="math_number" id="nEB{aJWB2{M*wqTz/:Zj"><field name="NUM">100</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number" id="D/2G7JhY6[;R@%M^.=WI"><field name="NUM">0.6</field></shadow></value></block></value></block></value><next><block type="variables_set" id="ctGId]|7O{AC?Y]U=MTe"><field name="VAR" id="F%:f|d~x`t|]2li?:%tt">lat</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="kqwygfJa%5zYl8uVE?/F"><field name="OP">ADD</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id=",VmNz.j0QZoMv(4(Zs0_"><field name="VAR" id="KxuAYZ!ItZ%7bqD5vqEV">latdeg</field></block></value><value name="B"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="E,=3tp_NjBhUBK8n-8ct"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="ikxV4E8)8]oT}xfebQS6"><field name="VAR" id="Wg3GZslf6sAI)5y)%tgc">latmin</field></block></value><value name="B"><shadow type="math_number" id="|``2qbHCI~tt7%kpN:+_"><field name="NUM">100</field></shadow></value></block></value></block></value><next><block type="variables_set" id="l7~uUM#:W/~hPM,dV=NG"><field name="VAR" id="~+UFHH%%@C8#lJ,Cu2/+">lon</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="c3,Ix!IU,xE+5i@74_#Q"><field name="OP">ADD</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="/]iph~5FKfNaaN:/iXTf"><field name="VAR" id="R4c4m9]#Wp-(,b:4~aa^">londeg</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="I3(_4?gv/$sD5WOM(%I^"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="E6J|0hD#Jq?,^?.=cII4"><field name="VAR" id="r^pMPA./6/D[=c3B15HS">lonmin</field></block></value><value name="B"><shadow type="math_number" id="?XAfKP$GL5io|Crt#8?H"><field name="NUM">100</field></shadow></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type="device_forever" id="EnTA~b!F=cD{)Jd4m=vU" x="331" y="-659"><statement name="HANDLER"><block type="function_call" id="^5kwv5`U32MKw8acHW|l"><mutation name="getGPSLL" functionid="Ls2d`KHw[cb{iic?VZ1`"></mutation><next><block type="device_led_toggle" id=".;O^o8M%Vq@LMGT^-kM#"><value name="x"><shadow type="math_number_minmax" id="JtWw;5Zk8M)X:D+K~prq"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="iZ[OVt|)}sWfOU_4u-2H"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><next><block type="function_call" id="B()Uf1P]|OcV@RA4~Y8q"><mutation name="getHeading" functionid="5Hjieq!X(SV7njXg,TZ("></mutation><next><block type="device_led_toggle" id="d,)9{(,WY5|)avh)nc?~"><value name="x"><shadow type="math_number_minmax" id="pidap)?bt74v7ufJV+!+"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">4</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="NP1({2BQZ_.q_#6tGY+9"><mutation min="0" max="4" label="Number" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><next><block type="radio_datagram_send_value" id="yWvyzkBb%vy?J=Cu/-s:"><value name="name"><shadow type="text" id="s?/0^Ti,BlxyXcx_-a#Q"><field name="TEXT">compass</field></shadow></value><value name="value"><block type="variables_get" id="]:LV;bZmtNtHkbFRxMI9"><field name="VAR" id="8{9Vd6]tPaGGATj;D!Y]">heading</field></block></value><next><block type="device_pause" id="9.*;Q:aYUw*}}P(7#!#C"><value name="pause"><shadow type="timePicker" id="uSKGza}3OSy*{,JgMa^t"><field name="ms">100</field></shadow></value><next><block type="radio_datagram_send_value" id="(m0r%)gN?(mLnM-gQOjR"><value name="name"><shadow type="text" id="+LfpQ%PhcMU=^C@niiv)"><field name="TEXT">long</field></shadow></value><value name="value"><block type="variables_get" id="zqyNqzn$;^x?6D|R*0IB"><field name="VAR" id="~+UFHH%%@C8#lJ,Cu2/+">lon</field></block></value><next><block type="device_pause" id="pkr(sFV{|4^mJBAdj[^1"><value name="pause"><shadow type="timePicker" id="]p^2FtDALIC4-?;-lf$W"><field name="ms">100</field></shadow></value><next><block type="radio_datagram_send_value" id="V;*lImJ~lOw^iezE*fpD"><value name="name"><shadow type="text" id="Dj=XSG6L@D{(l}s[d[B^"><field name="TEXT">lat</field></shadow></value><value name="value"><block type="variables_get" id="#o_Hu/}P9|O2?9~FrG#."><field name="VAR" id="F%:f|d~x`t|]2li?:%tt">lat</field></block></value><next><block type="device_pause" id="*$]MH]%TM@IHJt+m-H::"><value name="pause"><shadow type="timePicker" id="t.:q3y`V]OS,mS#oo?Om"><field name="ms">100</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="R4,,h4@!CK;Nn1Zd-HNW" x="2963" y="-747"><mutation name="getHeading" functionid="5Hjieq!X(SV7njXg,TZ("></mutation><field name="function_name">getHeading</field><comment pinned="false" h="80" w="160">Get compass heading from HMC5883L</comment><statement name="STACK"><block type="i2c_writenumber" id="MPrhElQLa=NOMh^Dz7]9"><field name="format">NumberFormat.UInt8LE</field><comment pinned="false" h="80" w="160">Read data registers 3 through 8</comment><value name="address"><block type="variables_get" id=",X{F0{IQ0tv=te:1_v9^"><field name="VAR" id="$DFqe/S%}Nki1E9rAEoB">addr</field></block></value><value name="value"><block type="variables_get" id="*pI,rA@,2Ll%0U2[Kr!u"><field name="VAR" id="/?aYiH~)ZKgGKzo7BB%3">dataReg</field></block></value><value name="repeat"><shadow type="logic_boolean" id="rCKO$x@[bjZ%Av/%sjFq"><field name="BOOL">TRUE</field></shadow></value><next><block type="typescript_statement" id="{}BDI`c8L~]9}K)F;ans" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let buffer = pins.i2cReadBuffer(addr, 6, false)" numlines="1" declaredvars="buffer"></mutation><next><block type="typescript_statement" id=")a{yH?s1?VX9*icql?^6" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x = buffer.getNumber(NumberFormat.Int16LE, 0)" numlines="1" declaredvars="x"></mutation><next><block type="typescript_statement" id="Rga@}O5DS%i6uX2`a7qZ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let z = buffer.getNumber(NumberFormat.Int16LE, 2)" numlines="1" declaredvars="z"></mutation><next><block type="typescript_statement" id="=]sO8,s2kpPgc;b0z.j~" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y = buffer.getNumber(NumberFormat.Int16LE, 4)" numlines="1" declaredvars="y"></mutation><next><block type="variables_set" id="NM6I-O-M$?o4`=hPpEcL"><field name="VAR" id="8{9Vd6]tPaGGATj;D!Y]">heading</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="{{z,EBq.N/YXVj9B]1TU"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="}EQA:Vn`_hRh9U7I6jm{"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_op" id="iE}n_nuI]_V4{+4Nl[G?"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="binary"></mutation><field name="OP">atan2</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="T-42KGF:n@ydjoc-tB:G"><field name="VAR" id="USJqJ.HnjR`Lsgq@s[tM">y</field></block></value><value name="ARG1"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="]mUn#q7_#ro*0Yc~M(LR"><field name="VAR" id="!XjPEB28%8+7=Vkw^c{e">x</field></block></value></block></value><value name="B"><shadow type="math_number" id="!BISQOF,kWJouE;jE=Y="><field name="NUM">180</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="-Xp60{+|-qLK(Vc[p9(=" editable="false"><field name="EXPRESSION">Math.PI</field></block></value></block></value><next><block type="controls_if" id="1mJ/3,r~R8N-~IsSKn3p"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="t:$)N{tz.R_)1=8(qg9R"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="_@5{mlSf0p$(;[C$M]%#"><field name="VAR" id="8{9Vd6]tPaGGATj;D!Y]">heading</field></block></value><value name="B"><shadow type="math_number" id="n!lkH-UaCj)ARWpEf7Z_"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="Xbe7ji8Jb1^DX60l|R-j"><field name="VAR" id="8{9Vd6]tPaGGATj;D!Y]">heading</field><value name="VALUE"><shadow type="math_number" id=".xio1]u5oum;~@b:Wia2"><field name="NUM">360</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="oZaCHgrg#+/~*4@ZPFr?" x="2294" y="-692"><mutation name="initCompass" functionid="$ODHhUfj[)kX/L6M1$bN"></mutation><field name="function_name">initCompass</field><comment pinned="false" h="80" w="160">Variable to store heading value

Set HMC5883L to continuous measurement mode</comment><statement name="STACK"><block type="typescript_statement" id="==0dy5c3[XQbP5=tl)%3" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let bufr = control.createBuffer(2)" numlines="1" declaredvars="bufr"></mutation><next><block type="typescript_statement" id="YXE=AEhhYR#P]4Q0bAE_" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="bufr.setNumber(NumberFormat.Int8LE, 0, regA)" numlines="1"></mutation><next><block type="typescript_statement" id="8eTmsC,hw6Ol1R;6Mds0" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="bufr.setNumber(NumberFormat.Int8LE, 1, 0x70)" numlines="1"></mutation><next><block type="typescript_statement" id="@)-7=XJidFg=b=R1mKXl" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.i2cWriteBuffer(addr, bufr, false)" numlines="1"></mutation><next><block type="typescript_statement" id="d6(]4,hgCd@JU5W$BeO9" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let bufr2 = control.createBuffer(2)" numlines="1" declaredvars="bufr2"></mutation><next><block type="typescript_statement" id="|O{g2/n1_{P}5S_`H!zG" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="bufr2.setNumber(NumberFormat.Int8LE, 0, regB)" numlines="1"></mutation><next><block type="typescript_statement" id="oo3e=te2WmdPnN6?uT#2" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="bufr2.setNumber(NumberFormat.Int8LE, 1, 0xA0)" numlines="1"></mutation><next><block type="typescript_statement" id=".SL,++j1H6VPiIsi,9b?" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.i2cWriteBuffer(addr, bufr2, false)" numlines="1"></mutation><next><block type="typescript_statement" id="e]IhQf`=q7aDhBz[x|Vm" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let bufr3 = control.createBuffer(2)" numlines="1" declaredvars="bufr3"></mutation><next><block type="typescript_statement" id="j|u%Jyzp8brh7NOIpNw!" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="bufr3.setNumber(NumberFormat.Int8LE, 0, modeReg)" numlines="1"></mutation><next><block type="typescript_statement" id="FeG6cL9Fn5|dA}Ks%sP~" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="bufr3.setNumber(NumberFormat.Int8LE, 1, 0x00)" numlines="1"></mutation><next><block type="typescript_statement" id="(IMku#2.Jd2@F_Bw31`K" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.i2cWriteBuffer(addr, bufr3, false)" numlines="1"></mutation><next><block type="device_pause" id="(];G8)Sb)T;LNen.|+kg"><value name="pause"><shadow type="timePicker" id="5O{tcScJsU:NHsKFfLe^"><field name="ms">6</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="SY3@.,xTw8,#[V{Qfs8j" x="1880" y="-473"><mutation name="initGPS" functionid="5Y+e,%;`hraC96C`X.ZH"></mutation><field name="function_name">initGPS</field><statement name="STACK"><block type="serial_redirect" id=".Nv.WT:+q-|SIONq+_~c"><field name="tx">SerialPin.P13</field><field name="rx">SerialPin.P14</field><field name="rate">BaudRate.BaudRate9600</field><next><block type="serialSetTxBufferSize" id=")hcQLTKPr3S#dcjMV/JY"><value name="size"><shadow type="math_number" id="^v_f4}@1OG[-rh5[Hj$X"><field name="NUM">64</field></shadow></value><next><block type="serialSetRxBufferSize" id="RQQMLlV-J.b-pdxp{Mh^"><value name="size"><shadow type="math_number" id="7EJ9_~XfSeB]k|Szp-*P"><field name="NUM">64</field></shadow></value></block></next></block></next></block></statement></block><block type="pxt-on-start" id="!L`jh_?KkD/O={jc,Y9r" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="GG%`IKRllFQYawBH)i?W" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let regA = 0" numlines="1" declaredvars="regA"></mutation><next><block type="typescript_statement" id="UaM[H*w`ot]w(ON8U7bG" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let addr = 0" numlines="1" declaredvars="addr"></mutation><next><block type="variables_set" id="niUjSZfBZN+ArUI`~}k["><field name="VAR" id="$DFqe/S%}Nki1E9rAEoB">addr</field><comment pinned="false" h="80" w="160">Address of HMC5883L magnetometer</comment><value name="VALUE"><shadow type="math_number" id="|jno$S/[e|f=!%yW](?F"><field name="NUM">30</field></shadow></value><next><block type="variables_set" id="H/S;az:QXA5E58^~=Dd0"><field name="VAR" id="?0Lnzf+@wrCY2U{S$H;B">regB</field><value name="VALUE"><shadow type="math_number" id="DT|2~E!UcvYYoewezO0e"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="{`$JhjL:Vcibe9hG7}/g"><field name="VAR" id="aWPRqA*)m=bIib6QD0Aw">modeReg</field><value name="VALUE"><shadow type="math_number" id="]JJ^,O-[681dSmF}X|mD"><field name="NUM">2</field></shadow></value><next><block type="variables_set" id="dwTa28zU2v0x4[R*,!]("><field name="VAR" id="/?aYiH~)ZKgGKzo7BB%3">dataReg</field><value name="VALUE"><shadow type="math_number" id=".V|h(=pfFa1cC!q`S#mv"><field name="NUM">3</field></shadow></value><next><block type="variables_set" id="6w|twS}?S+_z)ca,W{H{"><field name="VAR" id="7+WxX.76y=)p`5*3$Bz~">latlong2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="+)bf+Zg}E^++TnL~LODv"><field name="TEXT"></field></block></value><next><block type="variables_set" id="u;3jRTp1qL,i8r{yolLR"><field name="VAR" id="F%:f|d~x`t|]2li?:%tt">lat</field><value name="VALUE"><shadow type="math_number" id="AyFUdv|zqp+23Thp[:!X"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="KBzU=VQ7z[mZ2e?.Zz1}"><field name="VAR" id="~+UFHH%%@C8#lJ,Cu2/+">lon</field><value name="VALUE"><shadow type="math_number" id="f*oEtp)UA.,DPiCl2A1x"><field name="NUM">0</field></shadow></value><next><block type="radio_set_group" id="S~D%VMDD+niG_?o|`a)l"><value name="ID"><shadow type="math_number_minmax" id="]ssyX_a)fTh0A/K`UNXQ"><mutation min="0" max="255" label="Number" precision="0"></mutation><field name="SLIDER">23</field></shadow></value><next><block type="function_call" id=":oUj-d(Wx=h-5q#H7RU7"><mutation name="initGPS" functionid="5Y+e,%;`hraC96C`X.ZH"></mutation><next><block type="function_call" id="ENQMA}QoXB9g*49BsJ/X"><mutation name="initCompass" functionid="$ODHhUfj[)kX/L6M1$bN"></mutation><comment pinned="false" h="80" w="160">Initialize HMC5883L and continuously read compass heading</comment><next><block type="basic_show_icon" id="JPM[+{xq:Y{E#I6{2uuP"><field name="i">IconNames.Heart</field><next><block type="device_clear_display" id="CXo`Otr*;Bs$A:{13_6="></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>